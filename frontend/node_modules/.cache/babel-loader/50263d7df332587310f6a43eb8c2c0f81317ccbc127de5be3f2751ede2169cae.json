{"ast":null,"code":"var _jsxFileName = \"/Users/zhanghan/Desktop/Program lab/used-car-marketplace/frontend/src/SystemStats.js\",\n  _s = $RefreshSig$();\n// src/SystemStats.js\n// ✅ Lab 4 Upgrade: Fetch system statistics from backend instead of localStorage\n\nimport React, { useEffect, useState } from 'react';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://127.0.0.1:5000'; // ✅ Use 127.0.0.1 to ensure CORS compatibility\n\nconst SystemStats = () => {\n  _s();\n  const [stats, setStats] = useState({\n    total_users: 0,\n    admin_users: 0,\n    total_cars: 0,\n    approved_cars: 0,\n    pending_cars: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch statistics from backend API on component mount\n  useEffect(() => {\n    fetch(`${API_BASE}/api/stats`).then(res => {\n      if (!res.ok) {\n        throw new Error('Failed to fetch system stats');\n      }\n      return res.json();\n    }).then(data => {\n      setStats(data); // ✅ Set response data directly\n      setLoading(false);\n    }).catch(err => {\n      setError(err.message); // ✅ Capture and display fetch errors\n      setLoading(false);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"dashboard-title\",\n      children: \"System Statistics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"dashboard-links\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Users:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this), \" \", stats.total_users]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Admins:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), \" \", stats.admin_users]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Car Submissions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), \" \", stats.total_cars]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Approved Listings:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), \" \", stats.approved_cars]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Pending Approvals:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), \" \", stats.pending_cars]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(SystemStats, \"OE4PMsiMHP3ohTXe+7I71aVAKDk=\");\n_c = SystemStats;\nexport default SystemStats;\nvar _c;\n$RefreshReg$(_c, \"SystemStats\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API_BASE","SystemStats","_s","stats","setStats","total_users","admin_users","total_cars","approved_cars","pending_cars","loading","setLoading","error","setError","fetch","then","res","ok","Error","json","data","catch","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","_c","$RefreshReg$"],"sources":["/Users/zhanghan/Desktop/Program lab/used-car-marketplace/frontend/src/SystemStats.js"],"sourcesContent":["// src/SystemStats.js\n// ✅ Lab 4 Upgrade: Fetch system statistics from backend instead of localStorage\n\nimport React, { useEffect, useState } from 'react';\nimport './style.css';\n\nconst API_BASE = 'http://127.0.0.1:5000'; // ✅ Use 127.0.0.1 to ensure CORS compatibility\n\nconst SystemStats = () => {\n  const [stats, setStats] = useState({\n    total_users: 0,\n    admin_users: 0,\n    total_cars: 0,\n    approved_cars: 0,\n    pending_cars: 0,\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch statistics from backend API on component mount\n  useEffect(() => {\n    fetch(`${API_BASE}/api/stats`)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error('Failed to fetch system stats');\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setStats(data);        // ✅ Set response data directly\n        setLoading(false);\n      })\n      .catch((err) => {\n        setError(err.message); // ✅ Capture and display fetch errors\n        setLoading(false);\n      });\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"dashboard-title\">System Statistics</h1>\n\n      {loading ? (\n        <p>Loading...</p>\n      ) : error ? (\n        <p style={{ color: 'red' }}>{error}</p>\n      ) : (\n        <ul className=\"dashboard-links\">\n          <li><strong>Total Users:</strong> {stats.total_users}</li>\n          <li><strong>Admins:</strong> {stats.admin_users}</li>\n          <li><strong>Total Car Submissions:</strong> {stats.total_cars}</li>\n          <li><strong>Approved Listings:</strong> {stats.approved_cars}</li>\n          <li><strong>Pending Approvals:</strong> {stats.pending_cars}</li>\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default SystemStats;\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}