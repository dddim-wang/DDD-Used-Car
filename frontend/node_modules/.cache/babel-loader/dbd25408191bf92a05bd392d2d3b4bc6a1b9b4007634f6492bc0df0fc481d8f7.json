{"ast":null,"code":"// Lab 2: Handle form submission\nconst handleSubmit = async e => {\n  e.preventDefault();\n  const currentUser = localStorage.getItem('currentUser');\n  if (!currentUser) {\n    alert('Please log in first.');\n    return;\n  }\n\n  // Append submittedBy and approved flag\n  const newSubmission = {\n    ...carData,\n    submittedBy: currentUser,\n    approved: false\n  };\n  try {\n    const response = await fetch('http://localhost:5000/cars', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newSubmission)\n    });\n    const result = await response.json();\n    if (response.ok) {\n      alert('Car submitted for review!');\n      setCarData({\n        make: '',\n        model: '',\n        year: '',\n        price: '',\n        mileage: '',\n        transmission: '',\n        fuelType: '',\n        vin: '',\n        imageUrl: '',\n        location: '',\n        description: '',\n        contactInfo: ''\n      });\n    } else {\n      alert(`Submission failed: ${result.message}`);\n    }\n  } catch (error) {\n    console.error('Error submitting car:', error);\n    alert('An error occurred while submitting the car.');\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","currentUser","localStorage","getItem","alert","newSubmission","carData","submittedBy","approved","response","fetch","method","headers","body","JSON","stringify","result","json","ok","setCarData","make","model","year","price","mileage","transmission","fuelType","vin","imageUrl","location","description","contactInfo","message","error","console"],"sources":["/Users/zhanghan/Desktop/Program lab/used-car-marketplace/src/SubmitCar.js"],"sourcesContent":["// Lab 2: Handle form submission\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n\n  const currentUser = localStorage.getItem('currentUser');\n  if (!currentUser) {\n    alert('Please log in first.');\n    return;\n  }\n\n  // Append submittedBy and approved flag\n  const newSubmission = {\n    ...carData,\n    submittedBy: currentUser,\n    approved: false,\n  };\n\n  try {\n    const response = await fetch('http://localhost:5000/cars', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(newSubmission),\n    });\n\n    const result = await response.json();\n\n    if (response.ok) {\n      alert('Car submitted for review!');\n      setCarData({\n        make: '',\n        model: '',\n        year: '',\n        price: '',\n        mileage: '',\n        transmission: '',\n        fuelType: '',\n        vin: '',\n        imageUrl: '',\n        location: '',\n        description: '',\n        contactInfo: '',\n      });\n    } else {\n      alert(`Submission failed: ${result.message}`);\n    }\n  } catch (error) {\n    console.error('Error submitting car:', error);\n    alert('An error occurred while submitting the car.');\n  }\n};\n\n\n\n\n\n\n\n"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EACvD,IAAI,CAACF,WAAW,EAAE;IAChBG,KAAK,CAAC,sBAAsB,CAAC;IAC7B;EACF;;EAEA;EACA,MAAMC,aAAa,GAAG;IACpB,GAAGC,OAAO;IACVC,WAAW,EAAEN,WAAW;IACxBO,QAAQ,EAAE;EACZ,CAAC;EAED,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;MACzDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,aAAa;IACpC,CAAC,CAAC;IAEF,MAAMW,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAEpC,IAAIR,QAAQ,CAACS,EAAE,EAAE;MACfd,KAAK,CAAC,2BAA2B,CAAC;MAClCe,UAAU,CAAC;QACTC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,YAAY,EAAE,EAAE;QAChBC,QAAQ,EAAE,EAAE;QACZC,GAAG,EAAE,EAAE;QACPC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE;MACf,CAAC,CAAC;IACJ,CAAC,MAAM;MACL3B,KAAK,CAAC,sBAAsBY,MAAM,CAACgB,OAAO,EAAE,CAAC;IAC/C;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C7B,KAAK,CAAC,6CAA6C,CAAC;EACtD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}