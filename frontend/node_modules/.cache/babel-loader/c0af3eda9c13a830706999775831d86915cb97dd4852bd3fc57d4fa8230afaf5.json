{"ast":null,"code":"// Navbar.js\n// Programming Lab 2: Navigation bar component with role-based rendering using React Router and localStorage\nimport React from'react';import{Link,useNavigate}from'react-router-dom';import'./style.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const navigate=useNavigate();// Get login information from localStorage\nconst username=localStorage.getItem('username');const role=localStorage.getItem('role');// Logout handler: clear login info and redirect to login page\nconst handleLogout=()=>{localStorage.removeItem('username');localStorage.removeItem('role');navigate('/login');};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/listings\",children:\"Browse Listings\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/todo\",children:\"Todo\"})}),username&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/submit\",children:\"Submit Car\"})}),role==='User'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/user\",children:\"User Dashboard\"})}),role==='Admin'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"Admin Dashboard\"})}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})})]}),username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"nav-button\",children:\"Logout\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-username\",children:[\"Hello, \",username]})]})]})});};export default Navbar;","map":{"version":3,"names":["React","Link","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","navigate","username","localStorage","getItem","role","handleLogout","removeItem","className","children","to","onClick"],"sources":["/Users/zhanghan/Desktop/Program lab/used-car-marketplace/frontend/src/Navbar.js"],"sourcesContent":["// Navbar.js\n// Programming Lab 2: Navigation bar component with role-based rendering using React Router and localStorage\n\nimport React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './style.css';\n\nconst Navbar = () => {\n  const navigate = useNavigate();\n\n  // Get login information from localStorage\n  const username = localStorage.getItem('username');\n  const role = localStorage.getItem('role');\n\n  // Logout handler: clear login info and redirect to login page\n  const handleLogout = () => {\n    localStorage.removeItem('username');\n    localStorage.removeItem('role');\n    navigate('/login');\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <ul className=\"nav-links\">\n        {/* Always visible links */}\n        <li><Link to=\"/\">Home</Link></li>\n        <li><Link to=\"/listings\">Browse Listings</Link></li>\n        <li><Link to=\"/todo\">Todo</Link></li>\n\n        {/* Only show \"Submit Car\" if user is logged in */}\n        {username && <li><Link to=\"/submit\">Submit Car</Link></li>}\n\n        {/* Show different dashboards based on role */}\n        {role === 'User' && <li><Link to=\"/user\">User Dashboard</Link></li>}\n        {role === 'Admin' && <li><Link to=\"/admin\">Admin Dashboard</Link></li>}\n\n        {/* Show Login/Register for guests */}\n        {!username && (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/register\">Register</Link></li>\n          </>\n        )}\n\n        {/* Show Logout and greeting for logged-in users */}\n        {username && (\n          <>\n            <li><button onClick={handleLogout} className=\"nav-button\">Logout</button></li>\n            <li className=\"nav-username\">Hello, {username}</li>\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"AAAA;AACA;AAEA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAS,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACjD,KAAM,CAAAC,IAAI,CAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC;AACA,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACzBH,YAAY,CAACI,UAAU,CAAC,UAAU,CAAC,CACnCJ,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC,CAC/BN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,mBACEN,IAAA,QAAKa,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBV,KAAA,OAAIS,SAAS,CAAC,WAAW,CAAAC,QAAA,eAEvBd,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,CAAI,CAAC,cACjCd,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,CAAI,CAAC,cACpDd,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,CAAI,CAAC,CAGpCP,QAAQ,eAAIP,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,YAAU,CAAM,CAAC,CAAI,CAAC,CAGzDJ,IAAI,GAAK,MAAM,eAAIV,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,gBAAc,CAAM,CAAC,CAAI,CAAC,CAClEJ,IAAI,GAAK,OAAO,eAAIV,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,CAAI,CAAC,CAGrE,CAACP,QAAQ,eACRH,KAAA,CAAAF,SAAA,EAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CAAI,CAAC,cACvCd,IAAA,OAAAc,QAAA,cAAId,IAAA,CAACH,IAAI,EAACkB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,CAAI,CAAC,EAC7C,CACH,CAGAP,QAAQ,eACPH,KAAA,CAAAF,SAAA,EAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,cAAId,IAAA,WAAQgB,OAAO,CAAEL,YAAa,CAACE,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,CAAI,CAAC,cAC9EV,KAAA,OAAIS,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,SAAO,CAACP,QAAQ,EAAK,CAAC,EACnD,CACH,EACC,CAAC,CACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}